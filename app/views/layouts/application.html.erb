<!DOCTYPE html>
<html>
  <head>
    <title>HermitPurple</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <header class="bd-header bg-purple py-3 d-flex align-items-stretch border-bottom border-dark">
      
      <div class="container-fluid d-flex align-items-center">
        <h1 class="d-flex align-items-center fs-4 text-white mb-0">
          <%= link_to image_tag("hermit_purple.png", class:"hermit-purple-header-icon"), "/" %>
          
        </h1>
        <% if user_signed_in? %>
          <%= link_to current_user.nickname, "#", class: "ms-auto link-dark text-decoration-none" %>
          <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "ms-4 link-dark text-decoration-none" %>
          <%= link_to notifications_path do %>
            <div class="box1">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-bell-fill link-dark ms-4 my-1 mx-1" viewBox="0 0 16 16"><path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/></svg>
              <% if @notifications.exists? %>
                <div class="circle">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></svg>
                </div>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>

    </header>
    
    <%= yield %>
  </body>
</html>
